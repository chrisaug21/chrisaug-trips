<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Day 11: Final Day | Belgium & Netherlands Trip</title>
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Override any conflicting styles and force stickiness */
    #trip-nav-container {
      position: sticky !important;
      top: 0 !important;
      z-index: 1000 !important;
      width: 100% !important;
    }
    
    /* Create a sticky wrapper */
    .sticky-nav-wrapper {
      position: sticky;
      top: 0;
      z-index: 1000;
      width: 100%;
      background-color: white;
    }
    
    /* Ensure secondary nav sticks correctly */
    .trip-nav-days {
      border-top: 1px solid var(--light-bg);
      padding-top: 0.75rem;
      background-color: var(--white);
    }

    /* Remove the All Trips link */
    .all-trips-link {
      display: none !important;
    }
    
    /* Move Trip Home button to the day navigation row */
    .trip-nav-links {
      display: none !important; /* Hide the container for desktop */
    }
    
    /* Display the Trip Home link in the day navigation */
    .trip-home-link {
      display: inline-block !important;
      order: -1; /* Put it first in the flex order */
      margin-right: 0.5rem;
    }
    
    /* Hide the mobile-only Trip Home link */
    .mobile-trip-home-link {
      display: none !important;
    }

    /* Mobile responsive adjustments - simplified to avoid conflicts */
    @media (max-width: 768px) {
      /* We'll handle this with JavaScript to avoid CSS/JS conflicts */
    }

    /* Reset trip-nav-container styles that may interfere */
    #trip-nav-container, 
    #trip-nav-container * {
      transform: none !important;
      contain: none !important;
    }

    /* Remove gap between navigation and header */
    .trip-header {
      background-color: var(--primary);
      color: var(--white);
      padding: 3rem 0;
      text-align: center;
      margin-top: 0;
      margin-bottom: 2rem; /* Add space between header and first card */
    }
    
    /* Remove gap between navigation and content */
    main {
      padding-top: 0 !important;
      margin-top: 0 !important;
    }
    
    /* Remove padding/margin from sticky wrapper */
    .sticky-nav-wrapper {
      margin-bottom: 0 !important;
      padding-bottom: 0 !important;
    }
    
    /* Remove bottom space from navigation */
    .trip-nav {
      margin-bottom: 0 !important;
      padding-bottom: 0.5rem !important;
    }
    
    /* Remove top space from header */
    .trip-header {
      margin-top: 0 !important;
      padding-top: 3rem !important;
    }

    .trip-header h1 {
      color: var(--white);
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    .trip-dates {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
    }

    .trip-intro {
      max-width: 800px;
      margin: 1.5rem auto 0;
      background-color: rgba(255, 255, 255, 0.15);
      padding: 1.5rem 2rem;
      border-radius: 8px;
      text-align: left;
      line-height: 1.7;
    }

    .trip-intro p {
      margin-bottom: 0.75rem;
    }

    .trip-highlights h2 {
      text-align: center;
      margin-bottom: 1.5rem;
      color: var(--primary);
      font-size: 2rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid var(--accent);
      display: inline-block;
    }

    .section-title-container {
      text-align: center;
      margin-bottom: 2rem;
    }

    .section-title-container h2 {
      color: var(--primary);
      font-size: 2rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid var(--accent);
      display: inline-block;
    }

    .highlight-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .highlight-box {
      background-color: #f8f9fa;
      border-left: 4px solid var(--accent);
      padding: 1.5rem;
      border-radius: 0 8px 8px 0;
      height: 100%; /* Make all boxes the same height */
      display: flex;
      flex-direction: column;
    }

    .highlight-box h3 {
      color: var(--primary);
      margin-bottom: 1rem;
      font-size: 1.3rem;
    }

    .highlight-box p {
      margin-bottom: 1rem;
    }

    .highlight-box ul {
      padding-left: 1.5rem;
    }

    .day-card {
      background-color: var(--white);
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 1.2rem;
      text-align: left;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .day-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
    }

    .day-card h3 {
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
      color: var(--primary);
    }

    .day-card .date {
      color: var(--light-text);
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .day-card .location {
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .day-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 1rem;
      margin: 1.5rem 0;
    }

    .map-container {
      max-width: 800px;
      margin: 2rem auto;
      text-align: center;
    }

    .map-container img {
      max-width: 100%;
      border-radius: 8px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
      margin-bottom: 1rem;
      cursor: pointer; /* Make cursor show this is clickable */
      transition: transform 0.3s ease;
    }

    .map-container img:hover {
      transform: scale(1.02);
    }

    .map-caption {
      font-weight: 600;
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }

    .map-legend {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1.5rem;
      margin-top: 0.5rem;
      font-size: 0.95rem;
    }

    .map-legend-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .map-red-marker {
      color: #e74c3c;
      font-size: 1.2rem;
    }

    .map-blue-marker {
      color: #3498db;
      font-size: 1.2rem;
    }

    .trip-nav {
      background-color: var(--white);
      padding: 0.75rem 0;
      position: sticky;
      top: 0; /* Start at the very top */
      z-index: 1000; /* Higher z-index to ensure it stays above everything */
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      margin-bottom: 0; /* Remove gap between nav and header */
      transition: all 0.3s ease-in-out;
      width: 100%;
    }
    
    .fixed-nav {
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    }

    .trip-nav-container {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .trip-nav-links {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .trip-nav-days {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap; /* Allow wrapping for day buttons on web */
      max-width: 100%;
      -webkit-overflow-scrolling: touch;
    }

    .trip-nav-days::-webkit-scrollbar {
      height: 4px;
    }

    .trip-nav-days::-webkit-scrollbar-thumb {
      background-color: var(--secondary);
      border-radius: 4px;
    }

    .trip-nav-days::-webkit-scrollbar-track {
      background-color: var(--light-bg);
      border-radius: 4px;
    }

    .trip-nav-link {
      padding: 0.5rem 1rem;
      background-color: var(--light-bg);
      border-radius: 4px;
      font-weight: 600;
      font-size: 0.9rem;
      transition: all 0.2s ease;
      white-space: nowrap;
      display: inline-block;
    }

    .trip-nav-link:hover {
      background-color: var(--primary);
      color: var(--white);
    }
    
    .trip-nav-link.active {
      background-color: var(--primary);
      color: var(--white);
    }

    /* Map Modal Styles */
    .map-modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      align-items: center;
      justify-content: center;
    }

    .map-modal-content {
      width: 95%;
      height: 95%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .map-modal-content img {
      max-width: 100%;
      max-height: 95vh;
      border-radius: 8px;
      object-fit: contain;
      width: auto;
      height: auto;
      min-height: 85vh; /* Ensure the image is large enough */
    }

    .map-modal-close {
      position: absolute;
      top: 15px;
      right: 35px;
      color: #f1f1f1;
      font-size: 40px;
      font-weight: bold;
      cursor: pointer;
    }

    .all-trips-link i,
    .trip-home-link i,
    .mobile-trip-home-link i {
      margin-right: 5px;
    }

    @media (max-width: 768px) {
      .trip-nav {
        padding: 0.5rem 0;
        top: 0; /* Ensure it's at the top */
      }
      
      .day-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .trip-nav-container {
        gap: 0.5rem;
      }
      
      .trip-nav-links {
        justify-content: flex-start;
        /* Move trip home link into the day nav row */
        display: none;
      }
      
      .trip-nav-days {
        justify-content: flex-start;
        width: 100%;
        flex-wrap: wrap; /* Allow wrapping for day buttons */
        overflow-x: visible; /* Remove horizontal scrolling */
        padding-bottom: 0.25rem;
        border-top: none; /* Remove top border */
        padding-top: 0; /* Remove top padding */
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(60px, 1fr)); /* Allow columns to adjust based on content */
        gap: 0.3rem;
      }

      .day-label {
        display: none;
      }
      
      .trip-nav-link {
        padding: 0.4rem 0.5rem;
        font-size: 0.85rem;
      }
      
      .mobile-trip-home-link {
        display: inline-block;
      }
    }
  </style>
</head>
<body>
  <!-- Header will be inserted here -->
  <div id="header-container"></div>
  
  <!-- Create a sticky wrapper for navigation -->
  <div class="sticky-nav-wrapper">
    <!-- Trip Nav will be inserted here -->
    <div id="trip-nav-container"></div>
  </div>
  
  <main style="margin-top: 0; padding-top: 0;">
    <!-- Trip Header Section -->
    <section class="trip-header" style="margin-top: 0;">
      <div class="container">
        <h1>Day 11: Final Day</h1>
        <div class="trip-dates">Friday, May 2, 2025</div>
      </div>
    </section>

    <div class="container">
      <!-- Day 11 Summary -->
      <section class="card">
        <div class="section-title-container">
          <h2>Day 11 Overview</h2>
        </div>
        <div class="content-box">
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris. Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim.</p>
          <p>Phasellus molestie magna non est bibendum non venenatis nisl tempor. Suspendisse dictum feugiat nisl ut dapibus. Mauris iaculis porttitor posuere. Praesent id metus massa, ut blandit odio.</p>
        </div>
      </section>

      <!-- Day 11 Details -->
      <section class="card">
        <div class="section-title-container">
          <h2>Today's Itinerary</h2>
        </div>
        <div class="highlight-grid">
          <div class="highlight-box">
            <h3>Morning Activities</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris. Vivamus hendrerit arcu sed erat molestie vehicula.</p>
            <ul>
              <li>Activity 1: Lorem ipsum dolor sit amet</li>
              <li>Activity 2: Consectetur adipiscing elit</li>
              <li>Activity 3: Nullam in dui mauris</li>
            </ul>
          </div>
          
          <div class="highlight-box">
            <h3>Afternoon Plans</h3>
            <p>Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor.</p>
            <ul>
              <li>Activity 1: Vivamus hendrerit arcu</li>
              <li>Activity 2: Sed erat molestie vehicula</li>
              <li>Activity 3: Auctor neque eu tellus</li>
            </ul>
          </div>
          
          <div class="highlight-box">
            <h3>Evening Activities</h3>
            <p>Phasellus molestie magna non est bibendum non venenatis nisl tempor. Suspendisse dictum feugiat nisl ut dapibus.</p>
            <ul>
              <li>Activity 1: Phasellus molestie magna</li>
              <li>Activity 2: Non est bibendum</li>
              <li>Activity 3: Suspendisse dictum feugiat</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Final Day Reflections -->
      <section class="card">
        <div class="section-title-container">
          <h2>Trip Reflections</h2>
        </div>
        <div class="content-box">
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris. Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim.</p>
          <p>Phasellus molestie magna non est bibendum non venenatis nisl tempor. Suspendisse dictum feugiat nisl ut dapibus. Mauris iaculis porttitor posuere. Praesent id metus massa, ut blandit odio.</p>
          <p>Cras suscipit, urna at aliquam rhoncus, urna quam viverra nisi, in interdum massa nibh nec erat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam lectus. Sed sit amet ipsum mauris.</p>
        </div>
      </section>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2023 Trip Journal. All rights reserved.</p>
    </div>
  </footer>

  <!-- Components.js for template loading -->
  <script src="../assets/js/components.js"></script>
  
  <!-- Main scripts -->
  <script src="../assets/js/main.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Wait a short time for all components to load fully
      setTimeout(() => {
        // Apply styles to sticky wrapper
        const stickyWrapper = document.querySelector('.sticky-nav-wrapper');
        if (stickyWrapper) {
          stickyWrapper.style.position = 'sticky';
          stickyWrapper.style.top = '0';
          stickyWrapper.style.zIndex = '1000';
          stickyWrapper.style.width = '100%';
          stickyWrapper.style.backgroundColor = 'white';
          stickyWrapper.style.boxShadow = '0 2px 5px rgba(0, 0, 0, 0.1)';
          stickyWrapper.style.marginBottom = '0';
          stickyWrapper.style.paddingBottom = '0';
        }

        // Force the trip-nav-container to be part of the sticky flow
        const tripNavContainer = document.getElementById('trip-nav-container');
        if (tripNavContainer) {
          tripNavContainer.style.position = 'static';
          tripNavContainer.style.width = '100%';
          tripNavContainer.style.marginBottom = '0';
          tripNavContainer.style.paddingBottom = '0';
        }

        // Find the actual trip-nav element inside the container
        const tripNav = document.querySelector('.trip-nav');
        if (tripNav) {
          tripNav.style.position = 'static';
          tripNav.style.width = '100%';
          tripNav.style.boxShadow = 'none';
          tripNav.style.marginBottom = '0';
          tripNav.style.paddingBottom = '0.5rem';
        }

        // Remove margins from trip header
        const tripHeader = document.querySelector('.trip-header');
        if (tripHeader) {
          tripHeader.style.marginTop = '0';
        }
        
        // Remove margin from main content
        const mainContent = document.querySelector('main');
        if (mainContent) {
          mainContent.style.marginTop = '0';
          mainContent.style.paddingTop = '0';
        }

        // Hide "All Trips" link
        const allTripsLink = document.querySelector('.all-trips-link');
        if (allTripsLink) {
          allTripsLink.style.display = 'none';
        }

        // Move Trip Home link to the day navigation
        const tripHomeLink = document.querySelector('.trip-home-link');
        const tripNavDays = document.querySelector('.trip-nav-days');
        
        if (tripHomeLink && tripNavDays) {
          // Clone the Trip Home link
          const clonedTripHomeLink = tripHomeLink.cloneNode(true);
          
          // Add it to the beginning of the day navigation
          tripNavDays.insertBefore(clonedTripHomeLink, tripNavDays.firstChild);
          
          // Hide the original
          tripHomeLink.parentElement.style.display = 'none';
          
          // Modify the content for mobile view
          if (window.innerWidth <= 768) {
            // Just text "Trip" with no icon on mobile
            clonedTripHomeLink.innerHTML = 'Trip';
          } else {
            // Keep "Trip Home" with icon on desktop
            // No changes needed as we're using the original cloned content
          }
        }

        // Hide the mobile-only Trip Home link
        const mobileTripHomeLink = document.querySelector('.mobile-trip-home-link');
        if (mobileTripHomeLink) {
          mobileTripHomeLink.style.display = 'none';
        }

        // Find the day navigation (the bottom part)
        if (tripNavDays) {
          tripNavDays.style.position = 'static';
          tripNavDays.style.background = 'white';
          tripNavDays.style.width = '100%';
          tripNavDays.style.display = 'flex';
        }

        // Get all navigation links
        const navLinks = document.querySelectorAll('.trip-nav-link');
        
        // Find the current page URL
        const currentPage = window.location.pathname.split('/').pop();
        
        // Add active class to matching link
        navLinks.forEach(link => {
          if (link.getAttribute('href') === currentPage) {
            link.classList.add('active');
          }
        });

        // Add scroll class on scroll
        const handleScroll = () => {
          if (window.scrollY > 10) {
            if (stickyWrapper) stickyWrapper.style.boxShadow = '0 4px 10px rgba(0, 0, 0, 0.15)';
          } else {
            if (stickyWrapper) stickyWrapper.style.boxShadow = '0 2px 5px rgba(0, 0, 0, 0.1)';
          }
        };
        
        // Listen for scroll events
        window.addEventListener('scroll', handleScroll);
        
        // Initialize on page load
        handleScroll();
        
        // Handle resize events to update the Trip Home button text
        window.addEventListener('resize', () => {
          const clonedLink = tripNavDays.querySelector('.trip-home-link');
          if (clonedLink) {
            if (window.innerWidth <= 768) {
              clonedLink.innerHTML = 'Trip';
            } else {
              clonedLink.innerHTML = '<i class="fas fa-map-marked-alt"></i> <span>Trip Home</span>';
            }
          }
        });
      }, 100); // Short delay to ensure components are fully loaded
    });
  </script>
</body>
</html> 